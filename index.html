<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eesti 2027 Polling</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #eef0ff;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
        }
        .summary {
            font-size: 16px;
            line-height: 1.6;
            padding: 20px;
            background: #f4f4ff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        h1, h2 {
            text-align: center;
            color: #4a47a3;
        }
        .flourish-embed {
            margin-bottom: 20px;
        }
        .chart-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }
        .chart-container div {
            flex: 1;
        }
        .party {
            font-weight: bold;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .reform { color: #E9C32E; }
            .reformbg { background: #E9C32E; color: white; font-weight: bold; }
        .ekre { color: #AB6006; font-weight: bold; }
            .ekrebg { background: #AB6006; color: white; font-weight: bold; }
        .centre { color: #71A94C; font-weight: bold; }
            .centrebg { background: #71A94C; color: white; font-weight: bold; }
        .e200 { color: #8F7AC4; font-weight: bold; }
            .e200bg { background: #8F7AC4; color: white; font-weight: bold; }
        .sde { color: #C00309; font-weight: bold; }
            .sdebg { background: #C00309; color: white; font-weight: bold; }
        .isamaa { color: #5176D9; font-weight: bold; }
            .isamaabg { background: #5176D9; color: white; font-weight: bold; }
        .parem { color: #F39A00; font-weight: bold; }
            .parembg { background: #F39A00; color: white; font-weight: bold; }
    </style>
     <script>
        const pollData = [
            { party: "Isamaa", support: 26.90 },
            { party: "Reform", support: 17.46 },
            { party: "EKRE", support: 14.19 },
            { party: "SDE", support: 13.71 },
            { party: "Centre", support: 13.63 },
            { party: "Parem", support: 6.62 },
            { party: "E200", support: 3.04 },
            { party: "Koos", support: 2.00 },
            { party: "Greens", support: 1.72 },
            { party: "ERK", support: 0.74 },
            { party: "EÃœVP", support: 0.00 }
        ];

        function populateTable() {
            const table = document.getElementById("pollTable");
            pollData.forEach(row => {
                const tr = document.createElement("tr");
                tr.innerHTML = `<td>${row.party}</td><td>${row.support}%</td>`;
                table.appendChild(tr);
            });
        }

        function createChart() {
            const ctx = document.getElementById('pollChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: pollData.map(p => p.party),
                    datasets: [{
                        label: '',
                        data: pollData.map(p => p.support),
                        backgroundColor: ['#84BCED', '#FAED57', '#B88E72', '#E25D5E', '#70A48F', '#F49557', '#575757', '#BCDC7B', '#D7C262', '#F55A60']
                    }]
                }
            });
        }
        createChart();
    </script>
</head>
<body>
    <div class="container">
        <h1>Eesti 2027</h1>
        <div class="summary">
            <h2>Freshest Update</h2>
            <p style="text-align: center;"><strong>Last updated: 30 January 2025</strong></p>
            <p>The odds strongly favour <span class="isamaa">Isamaa</span> with the party projected to win around a third (<strong>30</strong>) of the 101 seats in the Riigikogu with approximately <strong>26.9%</strong>strong> of the popular vote if the election was held today. The forecast gives the party a <span class="isamaabg"> 99 in 100 </span> chance of winning with the most probable runner-up being <span class="reform">Reform</span> with a  <span class="reformbg"> 68 in 100 </span>  probability of coming in second, while <span class="sde">SDE</span> would have a  <span class="sdebg"> 17 in 100 </span>  chance of being the runner-up. <span class="ekre">EKRE</span> and <span class="centre">Centre</span> would have a more minimal but existing possibility of doing so.</p>
            <p><span class="sde">SDE</span>'s likelihood of coming in second rose that much higher due to a Kantar Emor poll seeing the party separated from <span class="reform">Reform</span> by less than half a percentage point.</p>
            <p>In the polling average, <span class="sde">SDE</span> has overtaken <span class="centre">Centre</span> as the two parties and <span class="ekre">EKRE</span> are sitting in a close heat for third place. The seat projection enables the possibility of forming a government without either <span class="reform">Reform</span>, <span class="ekre">EKRE</span>, or <span class="centre">Centre</span>.</p>
            <p>The forecast gives <span class="parem">Parempoolsed</span> a  <span class="parembg"> 79 in 100 </span>  chance of joining the next Riigikogu while estimating an almost complete  <span class="e200bg"> 99 in 100 </span>  likelihood for <span class="e200">Eesti 200</span> to not make the next composition.</p>
        </div>

        <div>
        <h1>Time brings changes, ...and chances</h1>
        <h2>The odds and averages are updated at the beginning of each month.</h2>
        <h3 style="text-align: center;"><strong>Latest polls</strong></h3>
        </div>
        <div class="flourish-embed flourish-table" data-src="visualisation/20064807">
            <script src="https://public.flourish.studio/resources/embed.js"></script>
        </div>

        <div class="chart-container">
            <div>
            <p><strong>Projected popular vote</strong></p>
            </div>
            <div>
            <p><strong>Projected seat count</strong></p>
            </div>
        </div>
            
        <div class="chart-container">
            <div class="flourish-embed flourish-chart" data-src="visualisation/20065982">
                <script src="https://public.flourish.studio/resources/embed.js"></script>
            </div>
            <div class="flourish-embed flourish-chart" data-src="visualisation/20075139">
                <script src="https://public.flourish.studio/resources/embed.js"></script>
            </div>
        </div>

        <div class="chart-container">
            <div>
            <p><strong>Chances of placing in first:</strong></p>
            <p><strong>Who will win the election?</strong></p>
            </div>
            <div>
            <p><strong>Well, we probably know who's coming in first,</strong></p>
            <p><strong>...but who's coming in second?</strong></p>
            </div>
            <div>
            <p><strong>Who else has a chance at making it in?</strong></p>
            <p><strong><small><span class="reform">Reform</span>, <span class="ekre">EKRE</span>, <span class="centre">Centre</span>, <span class="sde">SDE</span>, and <span class="isamaa">Isamaa</span> have a >99 in 100 chance of making it in</small></strong></p>
            </div>
        </div>
        
        <div class="chart-container">
            <div class="flourish-embed flourish-chart" data-src="visualisation/20077105">
                <script src="https://public.flourish.studio/resources/embed.js"></script>
            </div>
            <div class="flourish-embed flourish-chart" data-src="visualisation/20082753">
                <script src="https://public.flourish.studio/resources/embed.js"></script>
            </div>
            <div class="flourish-embed flourish-chart" data-src="visualisation/20082756">
            <script src="https://public.flourish.studio/resources/embed.js"></script>
            </div>
        </div>

        <div>
        <h1>More statistical trivia...</h1>
        <p style="text-align: center;">Scenarios with 5 parties in the Riigikogu: <strong>20 in 100</strong></p>
        <p style="text-align: center;">Scenarios with 6 parties in the Riigikogu: <strong>80 in 100</strong></p>
        <p style="text-align: center;">Scenarios with 7 parties in the Riigikogu: <strong><1 in 100</strong></p>
        </div>

        <div>
        <h1>...so what's next?</h1>
        <h3 style="text-align: center;">Assemble a coalition government or fidget around with past compositions</h3>
        </div>
        <div class="flourish-embed flourish-election" data-src="visualisation/20083150">
            <script src="https://public.flourish.studio/resources/embed.js"></script>
        </div>
    </div>
</body>
</html>
